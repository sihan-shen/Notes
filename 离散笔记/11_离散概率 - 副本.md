## 离散概率

### 直觉概率分析：三门问题
- **三门问题（Monty Hall Problem）**
  - 游戏规则：
    - 三扇门中一扇有车，其余有山羊
    - 玩家选择一扇门后，主持人（知道门后情况）会打开一扇有山羊的门
    - 玩家可选择是否换门
  - 问题：换门是否有利？

- **进一步明确规则**
  - 主持人必须开启有山羊的门
  - 若玩家初始选择山羊门，主持人必须开另一山羊门
  - 若玩家初始选择车门，主持人随机开一山羊门

### 直觉的概率分析：四步法
1. **选定样本空间**
   - 试验结果由三个因素决定：
     - 车在哪个门后
     - 玩家初始选择哪个门
     - 主持人打开哪个门
   - 样本空间：所有可能结果的集合

2. **定义相关事件**
   - 事件示例：
     - 车在C门后：{(C, A, B), (C, B, A), (C, C, A), (C, C, B)}
     - 改变选择才赢的情况：{(A, B, C), (A, C, B), (B, A, C), (B, C, A), (C, A, B), (C, B, A)}

3. **确定结果概率**
   - 计算各结果概率：Pr(A,B,C) = 1/3 × 1/3 × 1/2 = 1/18

4. **计算事件概率**
   - 改变选择而赢的概率 = 6 × (1/9) = 2/3

### 概率空间：数学定义
- **定义**
  - 可数样本空间 S 是一个可数集合
  - 概率函数 Pr: S → ℝ 满足：
    - ∀s∈S, Pr(s) ≥ 0
    - Σ Pr(s) = 1
  - 事件：S 的子集 E，其概率 Pr(E) = Σ Pr(s) (s∈E)

- **概率计算定理**
  - Pr(¬E) = 1 - Pr(E)
  - Pr(E1∪E2) = Pr(E1) + Pr(E2) - Pr(E1∩E2)

- **均匀分布**
  - 样本空间含 n 个元素时，每个结果概率为 1/n
  - 示例：公平骰子 Pr(i) = 1/6 (i=1..6)

### 条件概率与贝叶斯定理
- **条件概率定义**
  - Pr(E|F) = Pr(E∩F) / Pr(F) (Pr(F) > 0)

- **贝叶斯定理**
  - Pr(F|E) = [Pr(E|F) Pr(F)] / [Pr(E|F) Pr(F) + Pr(E|¬F) Pr(¬F)]

- **应用示例**
  - 罕见疾病检测：
    - 得病概率 Pr(D) = 0.00001
    - 检测准确率：Pr(T|D) = 0.99, Pr(T|¬D) = 0.005
    - 检测阳性后得病概率 Pr(D|T) ≈ 0.002

### 事件独立性
- **定义**
  - 事件 E 和 F 独立 ⇔ Pr(E∩F) = Pr(E) Pr(F)
  - 示例：两孩家庭中，"两男孩"与"至少一男孩"不独立

### 随机变量
- **定义**
  - 随机变量 X: S → ℝ 是一个函数
  - 分布：{(x, Pr(X=x)) | x ∈ range(X)}

- **期望值**
  - Ex(X) = Σ x Pr(X=x)
  - 线性特性：
    - Ex(X1 + ... + Xn) = Ex(X1) + ... + Ex(Xn)
    - Ex(aX + b) = a Ex(X) + b

- **方差**
  - V(X) = Ex(X²) - Ex(X)²
  - 独立随机变量：V(X+Y) = V(X) + V(Y) (Bienaymé公式)

- **切比雪夫不等式**
  - Pr(|X - Ex(X)| ≥ r) ≤ V(X)/r²