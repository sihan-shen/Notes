## 关系及其运算

### 回顾
- 集合的基本概念
  - 集合及其描述
  - 集合相等、子集关系
  - 幂集、笛卡尔乘积
- 集合运算
  - 交并补、广义交、广义并
  - 集合恒等式
  - 集合相关命题的证明方式

### 提要
- 关系的定义
- 关系的表示
- 关系的运算
  - 0-1矩阵运算
- 关系的性质

### 有序对（Ordered pair）
- (a, b)是集合{{a}, {a, b}}的简写
- 次序的体现
- (x,y)=(u,v) iff x=u 且 y=v

### 笛卡尔乘积（Cartesian Product）
- 对任意集合A, B：A×B = {(a, b)|a∈A, b∈B}
- 若A，B是有限集合，|A×B|= |A|×|B|

### （二元）关系的定义
- 若A, B是集合，从A到B的一个关系是A×B的一个子集
- 关系意味着两类对象之间建立起来的联系

### 从A到B的二元关系
- 笛卡尔乘积的子集
- "从A到B的关系"R；R⊆A×B
- 若A=B：称为"集合A上的（二元）关系"

### 特殊的二元关系
- 集合A上的空关系∅
- 全域关系 EA: EA ={ (x, y) | x, y∈A }
- 恒等关系 IA: IA ={(x, x) | x∈A }

### 函数是一种特殊的关系
- 函数 f : A→B
- R={ (x, f(x)) | x∈A }是一个从A到B的关系

### 关系的表示
- 集合表示
- 0-1矩阵
- 有向图

### 二元关系和有向图
- 关系 R⊆A×B
- 有序对集合 (x,y)∈R
- 若A=B, R中存在序列：(x1,x2), (x2,x3),...,(xn-1,xn)

### 关系的运算（1）
- 关系是集合，所有的集合运算对关系均适用

### 关系的运算（2）
- 与定义域和值域有关的运算
  - dom R = {x | ∃y (x,y)∈R}
  - ran R = {y | ∃x (x,y)∈R}
  - fld R = dom R ∪ ran R
  - R ↾A = {(x,y) | x∈A ∧xRy} ⊆ R
  - R[A] = {y | ∃x (x∈A ∧ (x,y)∈R)}= ran(R↾A) ⊆ ranR

### 关系的运算（3）
- 逆运算
  - R⁻¹ = { (x, y) | (y,x)∈R}
  - (R⁻¹)⁻¹ = R

### 关系的运算（4）
- 关系的复合（合成, Composition）
  - 设 R1⊆A×B, R2⊆B×C
  - R2 ∘ R1={(a, c)∈ A×C | ∃b∈B ((a, b)∈ R1∧(b, c)∈R2) }

### 关系的复合运算的性质（1）
- 结合律
  - (R3 ∘ R2) ∘ R1 = R3 ∘ (R2 ∘ R1)

### 关系的复合运算的性质（2）
- 复合关系的逆关系
  - (R2 ∘ R1)⁻¹ = R1⁻¹ ∘ R2⁻¹

### 关系的复合运算的性质（3）
- 对集合并运算满足分配律
  - (G∪H) ∘ F = (G ∘ F) ∪ (H ∘ F)
- 对集合交运算： (G ∩ H) ∘ F ⊆ (G ∘ F) ∩ (H ∘ F)

### 0-1 矩阵运算
- 令0-1矩阵M1=[aij],M2=[bij]:
  - C=M1 ∧ M2: cij=1 iff. aij=bij=1
  - C=M1 ∨ M2: cij=1 iff. aij=1或bij=1
  - C=M1 ⊗ M2: cij=1 iff. ∃k (aik ∧ bkj)=1

### 关系运算的矩阵法（1）
- 命题：
  - M_{R1∪R2} = M_{R1} ∨ M_{R2}
  - M_{R1∩R2} = M_{R1} ∧ M_{R2}
  - M_{R2∘R1} = M_{R1} ⊗ M_{R2}

### 关系的性质：自反性 reflexivity
- 自反的 reflexive：对所有的 a∈A, (a,a)∈R
- 反自反的 irreflexive：对所有的a∈A, (a,a)∉R
- 自反性与恒等关系：R 是 A 上的自反关系 ⇔ IA⊆R

### 关系的性质：对称性 Symmetry
- 对称的 symmetric：若 (a,b)∈R, 则 (b,a)∈R
- 反对称的 anti-~：若(a,b)∈R 且(b,a)∈R，则a=b
- 对称性与逆关系：R 是集合A上的对称关系 ⇔ R⁻¹=R

### 关系的性质：传递性 transitivity
- 传递的 transitive: 若 (a,b)∈R, (b,c)∈R, 则 (a,c) ∈R
- 传递性与关系的乘幂：集合A上的关系R是传递关系 ⇔ R²⊆R

### 一些常用关系的性质
- = ≤ < | ≡3 ∅ E
  - 自反、反自反、对称、反对称、传递性

### 关系运算与性质的保持
- 自反、反自反、对称、反对称、传递性在各种运算下的保持情况

### 小结
- 关系：笛卡尔积的子集
- 关系的运算
  - 集合运算；复合运算；逆
  - 0-1矩阵运算
- 关系的性质
  - reflexivity, ir-~; symmetry, anti-~; transitivity
  - 图特征；矩阵特征

## 函数及其运算

### 回顾
- 关系：笛卡尔积的子集
- 关系的运算
  - 集合运算；复合运算；逆
  - 0-1矩阵运算
- 关系的性质
  - reflexivity, ir-~; symmetry, anti-~; transitivity
  - 图特征；矩阵特征

### 提要
- 函数的定义
- 子集的像
- 单射与满射
- 反函数
- 函数的复合
- 函数加法与乘法

### 函数(function)的定义
- 从集合A到B的函数 f 是对元素的一种指派，对A的每个元素恰好指派B的一个元素
- 记作 f :A→B
- 定义域（domain）是A，伴域（codomain）是B
- 值域 range（f的像 image）

### 函数举例
- 下取整函数 ⌊x⌋: R → Z
- 某课程成绩函数：Grade: StudentName ×CourseName→ CourseGrade
- 恒等函数 ιA:A→A
- 特征函数 χA:U→{0,1}

### 函数的相等
- 函数相等 f=g if
  - dom(f)=dom(g)
  - codom(f)=codom(g)
  - ∀x(x∈dom(f) →f(x)=g(x))

### 子集在函数下的像
- S 在 f 下的像：f (S)={ t | ∃s∈S (t= f (s)) }
- f (A) 即为 f 的值域

### 并集的像
- f (X∪Y) = f(X)∪f (Y)

### 交集的像
- f (X∩Y) ⊆ f(X)∩f (Y)

### 函数性质
- 单射（一对一的）
  - injection, injective function, one-to-one function
- 满射（映上的）
  - surjection, surjective function, onto function
- 双射（一一对应）
  - bijection, bijective function, one-to-one correspondence

### 反函数
- 设f 是从A到B的一一对应，f 的反函数是从B到A的函数
- f(a)=b 当且仅当 f⁻¹(b)=a

### 函数的复合
- (f ∘ g) (x)= f(g(x))， x∈A
- 复合运算的性质
  - 满足结合律
  - 满射的复合是