
## 程序调试概述
- 开发阶段的程序可能含有运行错误（逻辑错误或异常错误）
- 调试手段：
  - 利用调试工具：单步执行、设置断点
  - 添加输出语句显示调试信息（如变量值）

## 断言的概念
- 定义：在程序关键点插入的逻辑表达式，描述程序应满足的条件
- 作用：
  - 帮助理解程序
  - 开发阶段发现错误和定位错误
- 行为：
  - 条件满足：程序继续执行
  - 条件不满足：程序异常终止

## 宏assert
### 基本用法
- 头文件：`cassert`或`assert.h`
- 格式：`assert(<表达式>)`
  - 表达式通常为关系/逻辑表达式
- 执行过程：
  - 表达式为true：继续执行
  - 表达式为false：
    1. 显示诊断信息（表达式、文件名、行号）
    2. 调用`abort()`终止程序

### 示例
```cpp
assert(x == 1);  // 检查x是否等于1
int divide(int x, int y) {
    assert(y != 0);  // 检查除数是否为0
    return x/y;
}
```

### 实现原理
```cpp
#ifdef NDEBUG
    #define assert(exp) ((void)0)
#else
    #define assert(exp) ((exp)?(void)0:<输出诊断信息并调用abort>)
#endif
```

## 宏assert的使用控制
- 仅在未定义`NDEBUG`时有效（开发/测试阶段）
- 程序发布时应定义`NDEBUG`：
  - 编译命令：`cl <源文件>... -D NDEBUG...`
  - VC++2015设置：项目属性→C/C++→预处理器→预处理器定义