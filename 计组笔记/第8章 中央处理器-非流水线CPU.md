
## 中央处理器概述

### 指令执行过程
1. 取指令
2. PC+1送PC
3. 指令译码
4. 主存地址运算
5. 取操作数
6. 算术/逻辑运算
7. 存结果
8. 异常检测与中断处理

### CPU基本组成
- **操作元件**：组合逻辑元件
- **状态/存储元件**：时序逻辑元件
- **数据通路与时序控制**
- **计算机性能与CPU时间**

## 数据通路设计

### 基本结构
- **组合逻辑元件**：加法器、多路选择器、ALU、译码器
- **时序逻辑元件**：寄存器、存储器
- **连接方式**：总线连接、分散连接

### 操作元件
- **特点**：输出仅取决于当前输入
- **定时**：输入到达后经逻辑门延时输出

### 状态元件
- **特点**：存储功能，时钟控制写入
- **定时方式**：边沿触发（上升沿/下降沿）

### 存储元件
- **寄存器**：带写使能信号
- **寄存器组**：多端口读写
- **理想存储器**：读写操作时序控制

## 计算机性能

### 性能指标
- **CPU时间** = 指令数 × CPI × 时钟周期
- **CPI**：平均每条指令时钟周期数
- **MIPS/MFLOPS**：指令/浮点操作每秒

### 性能优化
- **Amdahl定律**：系统性能改进取决于改进部分的使用频率
- **基准程序**：用于性能评测的实际负载程序

## 单周期处理器设计

### 数据通路
- **R-型指令**：寄存器间运算
- **I-型指令**：立即数运算
- **U-型指令**：长立即数
- **Load/Store指令**：存储器访问
- **B-型指令**：条件转移
- **J-型指令**：无条件转移

### 控制信号
- **多值控制信号**：ALUctr、ExtOp
- **逻辑表达式**：根据指令操作码生成控制信号

## 多周期处理器设计

### 实现思想
- 指令分阶段执行
- 功能部件重复使用
- 时钟周期以最复杂阶段为准

### 异常处理
- **异常类型**：非法指令、溢出等
- **处理机制**：保存断点、识别异常、转入处理程序

## 控制器设计

### 硬连线控制器
- **特点**：速度快，适合简单指令集
- **实现**：PLA电路生成控制信号

### 微程序控制器
- **特点**：灵活，适合复杂指令集
- **实现**：微指令序列控制执行流程

## 总结
- **CPU功能**：指令执行、异常处理
- **内部结构**：数据通路、控制单元
- **寄存器分类**：用户可见/不可见
- **指令执行流程**：取指、译码、执行
- **定时方式**：时钟信号同步
- **设计方法**：单周期/多周期、硬连线/微程序控制
