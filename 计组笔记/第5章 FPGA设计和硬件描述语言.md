
### 第一讲 可编程逻辑器件和FPGA设计

#### 1 可编程逻辑器件和FPGA设计
- 固定逻辑标准芯片功能单一，逐渐被PLD取代
- PLD特点：
  - 用于实现逻辑电路的通用器件
  - 包含多个可编程逻辑单元
  - 结构主要由与阵列和或阵列构成

#### 1.1 PLD器件
- 结构框图
- 基本电路符号
- 分类：
  - PROM：与阵列固定、或阵列可编程
  - PLA：与阵列、或阵列都可编程
  - PAL：与阵列可编程、或阵列固定
  - GAL：输出逻辑宏单元可编程定义
  - CPLD：
    - 组成：逻辑阵列块、I/O控制块、可编程互联阵列
    - 特点：集成度高，带片内RAM/ROM

#### 1.2 存储器阵列
- 功能分类：
  - ROM（非易失性）：
    - MROM
    - PROM
    - EPROM
    - EEPROM
  - RAM（易失性）：
    - SRAM
    - DRAM
- 存储原理：
  - ROM：根据MOS晶体管有无区分0/1
  - SRAM：6个MOS晶体管构成触发器
  - DRAM：单MOS管+电容存储电荷

#### 1.3 FPGA设计概述
- 特点：
  - 高集成度可编程逻辑器件
  - 包含可配置逻辑块CLB（由LUT、多路选择器、触发器等组成）
  - LUT本质是RAM（多采用SRAM实现）

#### 1.4 专用集成电路ASIC
- 特点：
  - 面向特定需求设计
  - 优点：体积小、功耗低、性能高
  - 分类：全定制、半定制
- 与FPGA对比：
  - ASIC适合大批量专用产品
  - FPGA适合小批量灵活设计

### 第二讲 HDL概述

#### 2.1 VHDL和Verilog HDL
- 共同特点：
  - 抽象表示电路结构和行为
  - 支持层次化描述
  - 具有仿真验证机制
  - 支持综合转换
- Verilog特点：
  - 易学易用（类似C语言）
  - 门级描述能力强
- VHDL特点：
  - 系统级抽象能力强
  - 语句冗长

#### 2.2 基于HDL的数字电路设计流程
1. 设计输入：编写HDL代码
2. 编译：语法检查
3. 仿真：功能测试
4. 综合：生成网表文件
5. 物理设计：布局布线
6. 验证：功能和时序验证

### 第三讲 Verilog语言简介

#### 3.1 模块、端口和实例化
- 模块定义：
  ```verilog
  module 名称(端口列表);
    内部信号定义;
    功能语句;
  endmodule
  ```
- 端口类型：input/output/inout
- 实例化语法：模块名 实例标识符(端口关联)

#### 3.2 标识符、常量和注释
- 标识符规则：
  - 字母/下划线开头
  - 可包含字母、数字、下划线、$
- 整数常量格式：`<size>'<base><value>`
- 注释：// 单行，/* */ 多行

#### 3.3 数据类型
- 网线类型（wire）：表示物理连接
- 寄存器类型（reg）：表示存储元件
- 参数类型（parameter）：命名常量
- 向量和数组：
  - 向量：`wire[7:0] a;`
  - 数组：`reg mem[1023:0];`

#### 3.4 运算符及其优先级
- 算术运算符：+ - * / %
- 位运算符：~ & | ^ ^~
- 逻辑运算符：&& || !
- 等式运算符：== !=
- 关系运算符：< <= > >=
- 位拼接运算符：{ }
- 移位运算符：>> <<
- 条件运算符：? :

### 第四讲 Verilog建模方式

#### 4.1 三种建模方式
1. 结构化建模：
   - 模块级：调用子模块
   - 门级：调用基本门元件
2. 数据流建模：
   - 使用assign连续赋值
3. 行为建模：
   - 使用always过程块

#### 4.2 行为建模中的过程语句
- 过程赋值：
  - 阻塞赋值（=）：顺序执行
  - 非阻塞赋值（<=）：并行执行
- 控制语句：
  - if-else
  - case
  - for循环

### 第五讲 Verilog代码实例

#### 5.1 组合逻辑电路
- 3-8译码器实现：
  ```verilog
  // 数据流方式
  assign out = 1 << in;
  
  // 行为方式
  always @(*) 
    case(in)
      0: out=8'b00000001;
      //...
    endcase
  ```
- 七段数码管译码：
  ```verilog
  always @(*)
    case(I)
      0: O=7'b1111110;
      //...
      default: O=7'b0;
    endcase
  ```

#### 5.2 时序逻辑电路
- D触发器：
  ```verilog
  // 同步复位
  always @(posedge clk)
    if(rst) q <= 0;
  
  // 异步复位  
  always @(posedge clk or posedge rst)
    if(rst) q <= 0;
  ```
- 自动售货机状态机：
  ```verilog
  always @(posedge clk or posedge arst)
    if(arst) state <= s_idle;
    else
      case(state)
        s_idle: if(in5) state<=s_05;
        //...
      endcase
  ```